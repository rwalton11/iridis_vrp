data;
param jobs := 8;
param depots := 2;
param techs := 4;
param skldom := 2;
param skllvl := 2;
param night_away_travel := 1.5;
param max_travel := 1.5;
param weeks_count := 2;
param days_week := 5;
param hours_day := 
1 8 
2 8 
3 8 
4 8 
5 8 
;
param tech_min := 
1 1
2 1
3 1
4 1
5 1
6 1
7 1
8 1
;
param tech_max := 
1 1
2 1
3 2
4 2
5 1
6 1
7 1
8 1
;
param duration := 
1 1 28
1 2 -1
2 1 29
2 2 -1
3 1 17
3 2 9
4 1 13
4 2 7
5 1 22
5 2 -1
6 1 8
6 2 -1
7 1 21
7 2 -1
8 1 24
8 2 -1
;
param start := 
1 1
2 41
3 41
4 1
5 1
6 41
7 1
8 1
;
param finish := 
1 80
2 80
3 80
4 80
5 80
6 80
7 40
8 40
;
param travel := 
1 1 0
1 2 2
1 3 2
1 4 2
1 5 2
1 6 2
1 7 2
1 8 3
1 9 1
1 10 1
2 1 2
2 2 0
2 3 0
2 4 0
2 5 0
2 6 0
2 7 0
2 8 1
2 9 1
2 10 1
3 1 2
3 2 0
3 3 0
3 4 0
3 5 0
3 6 0
3 7 0
3 8 1
3 9 1
3 10 1
4 1 2
4 2 0
4 3 0
4 4 0
4 5 0
4 6 0
4 7 0
4 8 1
4 9 1
4 10 1
5 1 2
5 2 0
5 3 0
5 4 0
5 5 0
5 6 0
5 7 0
5 8 1
5 9 1
5 10 1
6 1 2
6 2 0
6 3 0
6 4 0
6 5 0
6 6 0
6 7 0
6 8 1
6 9 1
6 10 1
7 1 2
7 2 0
7 3 0
7 4 0
7 5 0
7 6 0
7 7 0
7 8 1
7 9 1
7 10 1
8 1 3
8 2 1
8 3 1
8 4 1
8 5 1
8 6 1
8 7 1
8 8 0
8 9 2
8 10 2
9 1 1
9 2 1
9 3 1
9 4 1
9 5 1
9 6 1
9 7 1
9 8 2
9 9 0
9 10 0
10 1 1
10 2 1
10 3 1
10 4 1
10 5 1
10 6 1
10 7 1
10 8 2
10 9 0
10 10 0
;
param skl_tech := 
1 1 1 1
1 1 2 1
1 2 1 1
1 2 2 1
2 1 1 1
2 1 2 1
2 2 1 1
2 2 2 1
3 1 1 1
3 1 2 1
3 2 1 1
3 2 2 1
4 1 1 1
4 1 2 1
4 2 1 1
4 2 2 1
;
param skl_req := 
1 1 1 1
1 1 2 0
1 2 1 1
1 2 2 1
2 1 1 1
2 1 2 1
2 2 1 1
2 2 2 0
3 1 1 1
3 1 2 1
3 2 1 1
3 2 2 0
4 1 1 1
4 1 2 0
4 2 1 1
4 2 2 1
5 1 1 1
5 1 2 0
5 2 1 1
5 2 2 1
6 1 1 1
6 1 2 1
6 2 1 1
6 2 2 1
7 1 1 1
7 1 2 1
7 2 1 1
7 2 2 0
8 1 1 1
8 1 2 1
8 2 1 1
8 2 2 0
;
param work_hours := 
1 40
2 40
3 40
4 40
;
param base := 
1 10
2 9
3 10
4 9
;
param lateness := 
1 0
2 0
3 24
4 16
5 24
6 8
7 8
8 0
;
param weight := 
1 1
2 1
3 1
;
param cost_travel := 1;
param cost_nights := 1;
param cost_late := 1;
/*
--------------------------------------------------------------------------------------
 then we calculated unknown parameters
--------------------------------------------------------------------------------------
*/

# calculation of job_tech and job_tech2 paramters
# relating to job feasibility

for {j in JOBS, k in TECHS}{
	let test:=0;
	if tech_min[j]=1 
		then for {s in SKL_DOM, l in SKL_LVL}{
			if skl_tech[k,s,l]>=skl_req[j,s,l] 
				then {
					let test := test +1;
			   	};
		};
	if test==card{SKL_DOM}*card{SKL_LVL} 
		then {
			let job_tech[j,k]:=1;
			let JOB_TECH := JOB_TECH union {(j,k)};
		     };
};


for {j in JOBS, k in TECHS, kp in TECHS:k!=kp}{
	let test:=0;
	if tech_max[j]=2
		then for {s in SKL_DOM, l in SKL_LVL}{
			if skl_tech[k,s,l]+skl_tech[kp,s,l]>=skl_req[j,s,l] 
				then {
					let test := test+1;
			     	};
		};
	if test==card{SKL_DOM}*card{SKL_LVL} 
		then {
			let job_tech2[j,k,kp]:=1;
			let JOB_TECH2 := JOB_TECH2 union {(j,k,kp)};
		     };
};

#for {h in HOURS}{
for {h in 1..(weeks_count+1)*hours_week}{
	for {d in DAYS}{
		if (if h mod hours_week>0 then h mod hours_week else hours_week) > sum{i in 1..d}hours_day[i]-hours_day[d] then let day_t[h]:=d;
	};
};

printf "%s\n%s\n%s\n%s\n%s", "  ","------------------------------","end of .dat file","-------------------------------","  ">log_file;